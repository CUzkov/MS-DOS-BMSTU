Turbo Assembler	 Version 3.1	    03/28/20 19:09:15	    Page 1
lab5.asm



      1	0000			     code segment
      2					 assume	CS:code, DS:code
      3					 org 100h
      4
      5	0100			     start:
      6	0100  8C C8			 mov ax, cs
      7	0102  8E D8			 mov ds, ax
      8	0104			     @@Loop2:
      9	0104  50			 push ax
     10	0105  8B EC			 mov bp, sp
     11	0107  58			 pop ax
     12				     ;ввод строки
     13	0108  B4 01			 mov ah, 01h
     14	010A  CD 21			 int 21h
     15	010C  3C 2A			 cmp al, '*'
     16	010E  B4 00			 mov ah, 0
     17	0110  74 46			 je @@Exite1
     18	0112  50			 push ax
     19	0113  B9 0013			 mov cx, 19
     20	0116				 @@Loop1:
     21	0116  B4 01			 mov ah, 01h
     22	0118  CD 21			 int 21h
     23	011A  50			 push ax
     24	011B  3C 24			 cmp al, '$'
     25	011D  74 02			 je @@Breake1
     26	011F  E2 F5			 loop @@Loop1
     27	0121				 @@Breake1:
     28	0121  B8 0014			 mov ax, 14h
     29	0124  2B C1			 sub ax, cx
     30	0126  8B C8			 mov cx, ax
     31	0128  89 0E 0194r		 mov [buff], cx
     32				     ;конец ввода
     33	012C  3D 0000			 cmp ax, 0
     34	012F  74 27			 je @@Exite2
     35	0131  B4 09			 mov ah, 09h
     36	0133  BA 018Dr			 mov dx, offset	[EqualSing]
     37	0136  CD 21			 int 21h
     38	0138  BB 017Dr			 mov bx, offset	[HexTabl]
     39	013B  BE 0000			 mov si, 0
     40	013E				 @@Loop3:
     41	013E  E8 001D			     call Hex
     42	0141  B4 02			     mov ah, 02h
     43	0143  B2 20			     mov dl, 20h
     44	0145  CD 21			     int 21h
     45	0147  83 C5 FE			     add bp, -2
     46	014A  E2 F2			     loop @@Loop3
     47	014C  E8 0026			 call NextStr
     48	014F  8B 0E 0194r		 mov cx, [buff]
     49	0153				 @@Loop4:
     50	0153  58			     pop ax
     51	0154  E2 FD			     loop @@Loop4
     52	0156  EB AC			 jmp @@Loop2
     53	0158				 @@Exite1:
     54	0158				 @@Exite2:
     55	0158  B4 4C			 mov ah, 4ch
     56	015A  B0 00			 mov al, 0
     57	015C  CD 21			 int 21h
Turbo Assembler	 Version 3.1	    03/28/20 19:09:15	    Page 2
lab5.asm



     58
     59	015E			     proc Hex
     60	015E  8B 46 00			 mov ax, [bp]
     61	0161  D0 E8 D0 E8 D0 E8	D0+	 shr al, 4
     62	      E8
     63	0169  D7			 xlat
     64	016A  CD 29			 int 29h
     65
     66	016C  8B 46 00			 mov ax, [bp]
     67	016F  24 0F			 and al, 0Fh
     68	0171  D7			 xlat
     69	0172  CD 29			 int 29h
     70	0174  C3			 ret
     71	0175			     endp Hex
     72
     73	0175			     proc NextStr
     74	0175  BA 0191r			 lea dx, ent
     75	0178  B4 09			 mov ah, 9
     76	017A  CD 21			 int 21h
     77	017C  C3			 ret
     78	017D			     endp NextStr
     79
     80	017D  30 31 32 33 34 35	36+  HexTabl db	'0123456789ABCDEF'
     81	      37 38 39 41 42 43	44+
     82	      45 46
     83	018D  20 3D 20 24	     EqualSing db ' = $'
     84	0191  0A 0D 24		     ent db 10,	13, '$'
     85	0194  0000		     buff dw 0
     86
     87	0196			     code ends
     88				     end start
Turbo Assembler	 Version 3.1	    03/28/20 19:09:15	    Page 3
Symbol Table




Symbol Name		Type   Value			   Cref	(defined at #)

??DATE			Text   "03/28/20"
??FILENAME		Text   "lab5	"
??TIME			Text   "19:09:15"
??VERSION		Number 030A
@@BREAKE1		Near   CODE:0121		   25  #27
@@EXITE1		Near   CODE:0158		   17  #53
@@EXITE2		Near   CODE:0158		   34  #54
@@LOOP1			Near   CODE:0116		   #20	26
@@LOOP2			Near   CODE:0104		   #8  52
@@LOOP3			Near   CODE:013E		   #40	46
@@LOOP4			Near   CODE:0153		   #49	51
@CPU			Text   0101H
@CURSEG			Text   CODE			   #1
@FILENAME		Text   LAB5
@WORDSIZE		Text   2			   #1
BUFF			Word   CODE:0194		   31  48  #85
ENT			Byte   CODE:0191		   74  #84
EQUALSING		Byte   CODE:018D		   36  #83
HEX			Near   CODE:015E		   41  #59
HEXTABL			Byte   CODE:017D		   38  #80
NEXTSTR			Near   CODE:0175		   47  #73
START			Near   CODE:0100		   #5  88

Groups & Segments	Bit Size Align	Combine	Class	   Cref	(defined at #)

CODE			16  0196 Para	none		   #1  2  2
