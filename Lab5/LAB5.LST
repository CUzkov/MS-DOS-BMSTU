Turbo Assembler	 Version 3.1	    03/27/20 13:10:10	    Page 1
lab5.asm



      1	0000			     text segment
      2				     assume CS:text, DS:data
      3	0000			     start:
      4	0000  B8 0000s			 mov ax, data
      5	0003  8E D8			 mov ds, ax
      6	0005			     @@Loop2:
      7	0005  50			 push ax
      8	0006  8B EC			 mov bp, sp
      9	0008  58			 pop ax
     10				     ;ввод строки
     11	0009  B4 01			 mov ah, 01h
     12	000B  CD 21			 int 21h
     13	000D  3C 2A			 cmp al, '*'
     14	000F  B4 00			 mov ah, 0
     15	0011  74 46			 je @@Exite1
     16	0013  50			 push ax
     17	0014  B9 0013			 mov cx, 19
     18	0017				 @@Loop1:
     19	0017  B4 01			 mov ah, 01h
     20	0019  CD 21			 int 21h
     21	001B  50			 push ax
     22	001C  3C 24			 cmp al, '$'
     23	001E  74 02			 je @@Breake1
     24	0020  E2 F5			 loop @@Loop1
     25	0022				 @@Breake1:
     26	0022  B8 0014			 mov ax, 14h
     27	0025  2B C1			 sub ax, cx
     28	0027  8B C8			 mov cx, ax
     29	0029  89 0E 0017r		 mov [buff], cx
     30				     ;конец ввода
     31	002D  3D 0000			 cmp ax, 0
     32	0030  74 27			 je @@Exite2
     33	0032  B4 09			 mov ah, 09h
     34	0034  BA 0010r			 mov dx, offset	[EqualSing]
     35	0037  CD 21			 int 21h
     36	0039  BB 0000r			 mov bx, offset	[HexTabl]
     37	003C  BE 0000			 mov si, 0
     38	003F				 @@Loop3:
     39	003F  E8 001D			     call Hex
     40	0042  B4 02			     mov ah, 02h
     41	0044  B2 20			     mov dl, 20h
     42	0046  CD 21			     int 21h
     43	0048  83 C5 FE			     add bp, -2
     44	004B  E2 F2			     loop @@Loop3
     45	004D  E8 0026			 call NextStr
     46	0050  8B 0E 0017r		 mov cx, [buff]
     47	0054				 @@Loop4:
     48	0054  58			     pop ax
     49	0055  E2 FD			     loop @@Loop4
     50	0057  EB AC			 jmp @@Loop2
     51	0059				 @@Exite1:
     52	0059				 @@Exite2:
     53	0059  B4 4C			 mov ah, 4ch
     54	005B  B0 00			 mov al, 0
     55	005D  CD 21			 int 21h
     56
     57	005F			     proc Hex
Turbo Assembler	 Version 3.1	    03/27/20 13:10:10	    Page 2
lab5.asm



     58	005F  8B 46 00			 mov ax, [bp]
     59	0062  D0 E8 D0 E8 D0 E8	D0+	 shr al, 4
     60	      E8
     61	006A  D7			 xlat
     62	006B  CD 29			 int 29h
     63
     64	006D  8B 46 00			 mov ax, [bp]
     65	0070  24 0F			 and al, 0Fh
     66	0072  D7			 xlat
     67	0073  CD 29			 int 29h
     68	0075  C3			 ret
     69	0076			     endp Hex
     70
     71	0076			     proc NextStr
     72	0076  BA 0014r			 lea dx, ent
     73	0079  B4 09			 mov ah, 9
     74	007B  CD 21			 int 21h
     75	007D  C3			 ret
     76	007E			     endp NextStr
     77
     78	007E			     text ends
     79	0000			     data segment
     80	0000  30 31 32 33 34 35	36+	 HexTabl db '0123456789ABCDEF'
     81	      37 38 39 41 42 43	44+
     82	      45 46
     83	0010  20 3D 20 24		 EqualSing db '	= $'
     84	0014  0A 0D 24			 ent db	10, 13,	'$'
     85	0017  0000			 buff dw 0
     86	0019			     data ends
     87	0000			     stk segment stack
     88	0000  0100*(00)			 db 256	dup (0)
     89	0100			     stk ends
     90				     end start
Turbo Assembler	 Version 3.1	    03/27/20 13:10:10	    Page 3
Symbol Table




Symbol Name		Type   Value			   Cref	(defined at #)

??DATE			Text   "03/27/20"
??FILENAME		Text   "lab5	"
??TIME			Text   "13:10:10"
??VERSION		Number 030A
@@BREAKE1		Near   TEXT:0022		   23  #25
@@EXITE1		Near   TEXT:0059		   15  #51
@@EXITE2		Near   TEXT:0059		   32  #52
@@LOOP1			Near   TEXT:0017		   #18	24
@@LOOP2			Near   TEXT:0005		   #6  50
@@LOOP3			Near   TEXT:003F		   #38	44
@@LOOP4			Near   TEXT:0054		   #47	49
@CPU			Text   0101H
@CURSEG			Text   STK			   #1  #79  #87
@FILENAME		Text   LAB5
@WORDSIZE		Text   2			   #1  #79  #87
BUFF			Word   DATA:0017		   29  46  #85
ENT			Byte   DATA:0014		   72  #84
EQUALSING		Byte   DATA:0010		   34  #83
HEX			Near   TEXT:005F		   39  #57
HEXTABL			Byte   DATA:0000		   36  #80
NEXTSTR			Near   TEXT:0076		   45  #71
START			Near   TEXT:0000		   #3  90

Groups & Segments	Bit Size Align	Combine	Class	   Cref	(defined at #)

DATA			16  0019 Para	none		   2  4	 #79
STK			16  0100 Para	Stack		   #87
TEXT			16  007E Para	none		   #1  2
